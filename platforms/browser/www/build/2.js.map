{"version":3,"sources":["../../src/pages/product-details/product-details.module.ts","../../src/pages/product-details/product-details.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { ProductDetailsPage } from './product-details';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ProductDetailsPage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(ProductDetailsPage),\r\n    ],\r\n    exports: [\r\n        ProductDetailsPage\r\n    ]\r\n})\r\nexport class ProductDetailsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-details/product-details.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, ModalController, IonicPage} from 'ionic-angular';\nimport * as WC from 'woocommerce-api';\nimport { WoocommerceProvider } from \"../../providers/woocommerce/woocommerce\";\nimport { CartPage } from \"../cart/cart\";\n\nimport { Storage } from \"@ionic/storage\";\n \n@IonicPage({})\n@Component({\n  selector: 'page-product-details',\n  templateUrl: 'product-details.html',\n})\nexport class ProductDetailsPage {\n\n  product: any;\n  WooCommerce: any;\n  reviews: any[] = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public storage: Storage, public toastCtrl: ToastController, public modalCtrl: ModalController, private WP: WoocommerceProvider) {\n\n    this.product = this.navParams.get(\"product\");\n    console.log(this.product);\n\n    this.WooCommerce = WP.init();\n\n    this.WooCommerce.getAsync('products/'+this.product.id + '/reviews').then((data) =>{\n      this.reviews = JSON.parse(data.body).product_reviews;\n      console.log(this.reviews);\n    }, (err)=>{\n      console.log();\n    })\n\n  }\n\n   addToCart(product) {\n        this.storage.get(\"cart\").then((data) => {\n    \n          if (data == null || data.length == 0) {\n            data = [];\n    \n            data.push({\n              \"product\": product,\n              \"qty\": 1,\n              \"amount\": parseFloat(product.price)\n            })\n          } else {\n    \n            let added = 0;\n    \n            for (let i = 0; i < data.length; i++) {\n    \n              if (product.id == data[i].product.id) {\n                let qty = data[i].qty;\n    \n                console.log(\"Product is already in the cart\");\n    \n                data[i].qty = qty + 1;\n                data[i].amount = parseFloat(data[i].amount) + parseFloat(data[i].product.price);\n                added = 1;\n              }\n    \n            }\n    \n            if (added == 0) {\n              data.push({\n                \"product\": product,\n                \"qty\": 1,\n                \"amount\": parseFloat(product.price)\n              })\n            }\n    \n          }\n    \n          this.storage.set(\"cart\", data).then(() => {\n            console.log(\"Cart Updated\");\n            console.log(data);\n    \n            this.toastCtrl.create({\n              message: \"Cart Updated\",\n              duration: 3000\n            }).present();\n  \n          })\n    \n        })\n    \n      }\n\n      openCart(){\n\n        this.modalCtrl.create(CartPage).present();\n\n      }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-details/product-details.ts"],"sourceRoot":""}